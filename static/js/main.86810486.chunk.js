(this.webpackJsonptruthy=this.webpackJsonptruthy||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(5),c=n.n(u),o=n(1),i=function(){return Math.random().toString(16)},l=function e(t){var n=t.result;return a.a.createElement("ul",null,a.a.createElement("li",{className:"explain-tree"},n.label," ",n.children.length>0&&" = ".concat(n.value),n.children.length>0&&n.children.map((function(t){return a.a.createElement(e,{key:i(),result:t})}))))},s=function(e){var t=e.table,n=a.a.useState(),r=Object(o.a)(n,2),u=r[0],c=r[1];return a.a.useEffect((function(){c(void 0)}),[t]),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,t.columns.map((function(e){return a.a.createElement("th",{key:e},e)})),a.a.createElement("th",null,"Result"),a.a.createElement("th",null))),a.a.createElement("tbody",null,t.variants.map((function(e,n){return a.a.createElement("tr",{key:i()},t.columns.map((function(t){var n;return a.a.createElement("td",{key:i()},null===(n=e.values[t])||void 0===n?void 0:n.toString())})),a.a.createElement("td",null,e.result.value.toString()),a.a.createElement("td",null,a.a.createElement("button",{onClick:function(){return c(e.result)}},"?")),0===n&&a.a.createElement("td",{rowSpan:t.variants.length},u&&a.a.createElement(l,{result:u})))}))))},f=function(e,t,n,r,a){var u=t.map((function(e){return h(e,n)}));return{label:e,children:u,value:u.map((function(e){return e.value})).reduce(r),sequence:a}},m={AND:function(e,t){return e&&t},OR:function(e,t){return e||t},XOR:function(e,t){return e!==t},EQ:function(e,t){return e===t}},h=function e(t,n){if("AND"===t.type||"OR"===t.type||"XOR"===t.type||"EQ"===t.type)return f(t.type,t.expressions,n,m[t.type],t.sequence);if("NOT"===t.type){var r=e(t.expression,n);return{label:"NOT",value:!r.value,children:[r],sequence:t.sequence}}if("IDENT"===t.type)return{label:"".concat(t.name," = ").concat(n[t.name]),value:n[t.name],children:[],sequence:t.sequence};throw new Error("Unknown type ".concat(t.type))},p=n(6),v=new Map([["|","OR"],["&","AND"],["(","LPAREN"],[")","RPAREN"],["!","NOT"],["^","XOR"],["=","EQ"]]),E=Array.from(v.keys()),d=function(e){var t=function(e){return 0===e.length||e.match(/\s/)},n=function(e){var t=0;return{previous:function(){return e.charAt(t-1)},next:function(){return this.eof()?"":e.charAt(t++)},peek:function(){return this.eof()?"":e.charAt(t)},eof:function(){return t>=e.length},match:function(){for(var e=this.peek(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!!n.some((function(t){return t===e}))&&(this.next(),!0)}}}(e),r=[],a=1;return{eof:function(){return n.eof()&&0===r.length},match:function(e){var t=this.next();if(t.type===e)return t;r.push(t)},expect:function(e){var t=this.next();if(t.type!==e)throw new Error("Expected ".concat(e,", found ").concat(t.stringify()));return t},next:function(){if(r.length>0)return r.shift();for(;t(n.peek())&&!n.eof();)n.next();if(this.eof())return{type:"EOF",sequence:a++,stringify:function(){return"End of Statement"}};if(n.match.apply(n,Object(p.a)(E))){var e=n.previous();return"|"!==e&&"&"!==e&&"="!==e||(n.match(e),"="===e&&n.match(e)),{type:v.get(e),sequence:a++,stringify:function(){return this.type}}}for(var u,c=[];(u=n.peek()).length>0&&!t(u)&&!v.has(u);)c.push(n.next());return{type:"IDENT",name:c.join(""),sequence:a++,stringify:function(){return"identifier ".concat(c.join(""))}}}}},y=function(e){var t=new Set,n=d(e),r=function(e,t){return function(){for(var r=e(),a={sequence:r.sequence,type:t,expressions:[r]};!n.eof()&&n.match(t);)a.expressions.push(e());return 1===a.expressions.length?a.expressions[0]:a}},a=r((function e(){var r=n.match("NOT");return r?{type:"NOT",expression:e(),sequence:r.sequence}:function(){if(n.match("LPAREN")){var e=o();return n.expect("RPAREN"),e}var r=n.expect("IDENT"),a=r.name,u=r.sequence;return t.add(a),{type:"IDENT",name:a,sequence:u}}()}),"EQ"),u=r(a,"AND"),c=r(u,"XOR"),o=r(c,"OR"),i=o();return n.expect("EOF"),{tree:i,identifiers:Array.from(t)}},w=(n(12),function(e){var t=r.useState((function(){try{var e=window.location.hash.substring(1);return e?window.atob(e):""}catch(t){return window.location.hash="",""}})),n=Object(o.a)(t,2),a=n[0],u=n[1];r.useEffect((function(){e.onChange(a)}),[e,a]);return r.createElement("textarea",{cols:50,rows:10,onChange:function(e){var t=e.currentTarget.value;window.location.hash=window.btoa(t),u(t)},value:a})});var g=function(){var e=Object(r.useState)(),t=Object(o.a)(e,2),n=t[0],u=t[1],c=Object(r.useState)(""),i=Object(o.a)(c,2),l=i[0],f=i[1],m=function(e,t){var n=a.a.useRef(-1),r=a.a.useState(e),u=Object(o.a)(r,2),c=u[0],i=u[1];return[c,function(e){n.current>-1&&window.clearTimeout(n.current),n.current=window.setTimeout((function(){n.current=-1,i(e)}),t)}]}("",500),p=Object(o.a)(m,2),v=p[0],E=p[1];return Object(r.useEffect)((function(){if(v){f("");try{for(var e=y(v),t=e.tree,n=e.identifiers,r=function(e){var t=e.length,n=1<<t,r=0;return{done:function(){return r>=n},next:function(){for(var n={},a=0;a<t;a++){var u=e[a],c=r>>a&1;n[u]=!c}return r++,n}}}(n),a={columns:n,variants:[]};!r.done();){var c=r.next(),o=h(t,c);a.variants.push({values:c,result:o})}u(a)}catch(i){f(i.message)}}}),[v]),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("span",null,"Operators (in order of precedence):"),a.a.createElement("ul",{className:"operator-list"},a.a.createElement("li",null,"NOT: !"),a.a.createElement("li",null,"EQ: = (== and === are also permitted)"),a.a.createElement("li",null,"AND: & (&& is also permitted)"),a.a.createElement("li",null,"XOR: ^"),a.a.createElement("li",null,"OR: | (|| is also permitted)")),a.a.createElement("span",null,"Statements may be grouped with ( ). Anything that isn't an operator, parenthesis, or whitespace will be treated as a variable")),a.a.createElement("div",null),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(w,{onChange:E})),l&&a.a.createElement("span",{className:"error"},l)),a.a.createElement("div",null,n&&a.a.createElement(s,{table:n})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.86810486.chunk.js.map